---
title: 设计模式入门
date: 2024-08-24T00:00:00.000Z
permalink: /design_pattern/
tags:
  - 设计模式
  - 软件工程
  - 架构
sticky: true
createTime: 2025/08/24 03:29:31
---

## 前言：为什么要学习设计模式？

软件开发如同建造房屋。一个新手可能会随心所欲地堆砌砖瓦，虽然也能勉强建起一间小屋，但它可能结构混乱、难以扩展，甚至一阵风雨就可能倒塌。

而一位经验丰富的建筑师，在动手之前，脑海中早已有了无数成熟的“建筑范式”：承重墙该如何设计、水电管线该如何布局、空间利用如何才能最高效……

在软件工程领域，这些经过千锤百炼的“建筑范式”，就是我们所说的**设计模式 (Design Patterns)**。

## 什么是设计模式？

> **设计模式是在特定上下文中，针对常见问题的一种可复用的解决方案。**

让我们来拆解这个定义：

*   **不是具体的代码，而是“解决方案”**：设计模式不是一个可以直接复制粘贴的类或函数，而是一种**思想和蓝图**。它描述了问题的结构、参与者以及它们之间的协作方式。
*   **针对“常见问题”**：它们解决了在软件开发中反复出现的问题。比如，如何确保一个类只有一个实例？如何让一个对象的状态改变时，能通知所有依赖它的对象？
*   **“可复用”**：你可以在完全不同的项目中，应用同一种模式来解决相似的问题。
*   **“特定上下文”**：没有万能的模式。每种模式都有其最适用的场景，以及使用不当可能带来的弊端。

简单来说，设计模式就是**前人经验的总结**，是**身经百战的工程师们为我们提炼出的“武功秘籍”**。

---

## 学习设计模式的核心收益

你可能会想，我不用这些模式，不也写出了很多功能吗？是的，但学习设计模式将让你的开发能力从“能用”提升到“好用”和“可维护”的层次。

::: tip 核心收益
*   **1. 代码复用与健壮性**
    使用经过验证的模式，可以让你站在巨人的肩膀上，避免重复造轮子，写出更稳定、更可靠的代码。

*   **2. 提高代码的可维护性和可扩展性**
    遵循设计模式编写的代码，通常结构更清晰、职责更明确、耦合度更低。当需求变更时，你会发现修改代码不再是一场灾难。

*   **3. 促进团队沟通的“通用词汇”**
    这是最重要也最容易被忽略的一点。当你和同事说：“我们这里用一个**观察者模式**来处理事件通知吧”，所有人立刻就能心领神会。设计模式为开发者提供了一套标准的“黑话”，极大地提升了沟通效率。

*   **4. 成为优秀框架的“阅读者”**
    几乎所有优秀的开源框架（如 Spring, Mybatis）都大量使用了设计模式。理解了设计模式，你就能更快地读懂这些框架的源码，理解其设计思想，从而更好地使用它们。
:::

## 设计模式的分类：三大类别

经典的《设计模式：可复用面向对象软件的基础》一书（由“四人帮”GoF 撰写）将 23 种设计模式分为了三大类。这个分类方法至今仍是学习设计模式的主流框架。

### 1. 创建型模式 (Creational Patterns)

**核心**：关注于**对象的创建过程**，将对象的创建与使用解耦。

它们旨在让系统在创建对象时，不必关心具体的实现细节，从而提供更大的灵活性。

*   **主要模式**：单例模式、工厂方法模式、抽象工厂模式、建造者模式、原型模式。

### 2. 结构型模式 (Structural Patterns)

**核心**：关注于**类和对象的组合**，如何将它们组装成更大的、功能更强的结构。

它们旨在简化系统的结构，让你能更容易地理解不同部分之间的关系。

*   **主要模式**：适配器模式、桥接模式、组合模式、装饰器模式、外观模式、享元模式、代理模式。

### 3. 行为型模式 (Behavioral Patterns)

**核心**：关注于**对象之间的通信与职责分配**。

它们旨在有效地组织对象间的协作，降低它们的耦合度，让系统中的每个对象都能各司其职。

*   **主要模式**：责任链模式、命令模式、解释器模式、迭代器模式、中介者模式、备忘录模式、观察者模式、状态模式、策略模式、模板方法模式、访问者模式。

---

## 如何学习设计模式？

::: danger 学习建议与误区
*   **理解意图，而非死记硬背**: 学习每个模式时，最重要的是理解它**要解决什么问题**。不要去背诵 UML 类图和示例代码。
*   **从最常用的开始**: 不必一口气学完 23 种。可以从**单例、工厂、策略、观察者、装饰器**等最常用的模式开始，理解透彻。
*   **在源码中寻找**: 主动去 Spring 等你熟悉的框架源码中，寻找设计模式的实际应用，这会让你印象更深刻。
*   **动手实践**: 尝试在你自己的小项目中，针对某个具体问题，有意识地应用一个设计模式。
*   **切忌过度设计**: 这是初学者最容易犯的错误。**不要为了用模式而用模式**。如果简单的代码就能清晰地解决问题，那就不要强行套用一个复杂的模式。模式是解决复杂问题的工具，而不是炫技的手段。
:::

## 总结

设计模式是通往高级工程师的必经之路。它不是银弹，但它是一套强大的思想工具箱，能帮助我们编写出更优雅、更健壮、更易于维护的软件。

在本系列笔记中，我将逐一深入探讨这些经典的设计模式，结合 Java 实例代码，分享我的学习心得和实践经验。

让我们一起开始这场提升内功的修行之旅吧！